<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>금액 변환기</title>
</head>
<body>

    <input type="text" id="moneyInput" placeholder="금액 입력 (예: 1,200,300,400)">
    <button onclick="updateSpan()">변환</button>
    <span id="resultSpan"></span>

    <script>
        function convertToKoreanMoney(number) {
            if (typeof number !== "number" || isNaN(number)) return "올바른 숫자를 입력하세요.";

            const units = ["", "만", "억", "조", "경"];
            let result = [];
            let numStr = number.toString();

            // 4자리씩 나누기 위해 끝에서부터 그룹화
            let groups = [];
            while (numStr.length > 0) {
                groups.unshift(numStr.slice(-4));
                numStr = numStr.slice(0, -4);
            }

            groups.forEach((group, index) => {
                let num = parseInt(group, 10);
                if (num > 0) {
                    result.push(`${num.toLocaleString()}${units[groups.length - 1 - index]}`);
                }
            });

            return result.join(" ") + "원";
        }

        function updateSpan() {
            let input = document.getElementById("moneyInput").value.replace(/,/g, "");
            let number = parseInt(input, 10);
            let result = convertToKoreanMoney(number);
            document.getElementById("resultSpan").textContent = result;
        }
    </script>

</body>
</html>