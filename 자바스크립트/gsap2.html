<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>GSAP Pin + Scrub (Flexible Height)</title>

	<!-- GSAP -->
	<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
	<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo",
				"Noto Sans KR", sans-serif;
			color: #111;
		}

		/* 스크롤 테스트용 */
		.spacer {
			height: 100vh;
			background: #f2f2f2;
		}

		/* PIN SECTION */
		.pin-section {
			min-height: 100vh; /* ⭐ 핵심 */
			padding: 80px 20px;
			background: #fff;
		}

		.text-item {
			font-size: 20px;
			font-weight: 500;
			line-height: 1.5;
			margin-bottom: 28px;
			word-break: keep-all;
		}

		.text-item:last-child {
			margin-bottom: 0;
		}
	</style>
</head>
<body>

	<div class="spacer"></div>

	<section class="pin-section">
		<p class="text-item">pin 섹션은 화면을 고정하지만</p>
		<p class="text-item">콘텐츠 높이를 고정하지는 않습니다.</p>
		<p class="text-item">텍스트가 많아져도</p>
		<p class="text-item">스크롤에 맞춰 자연스럽게</p>
		<p class="text-item">등장하도록 만들 수 있습니다.</p>
		<p class="text-item">이 방식은 모바일에서도</p>
		<p class="text-item">안정적으로 동작하며</p>
		<p class="text-item">실무에서 가장 많이 쓰이는 구조입니다.</p>
	</section>

	<div class="spacer"></div>

	<script>
		gsap.registerPlugin(ScrollTrigger);

		const section = document.querySelector(".pin-section");

		const tl = gsap.timeline({
			scrollTrigger: {
				trigger: section,
				start: "top top",
				end: () => "+=" + section.scrollHeight * 0.6,
				pin: true,
				scrub: 0.6,                // ⭐ 살짝 관성
				anticipatePin: 1,
				invalidateOnRefresh: true // 모바일 대응
			}
		});

		tl.fromTo(
			".text-item",
			{
				y: 20,
				opacity: 0
			},
			{
				y: 0,
				opacity: 1,
				ease: "none",
				stagger: 0.2
			}
		);
	</script>

</body>
</html>