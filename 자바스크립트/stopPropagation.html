<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>stopPropagation</title>
</head>

<body>
    <h2>event.stopPropagation()</h2>
    <p>이 메서드는 이벤트가 상위 DOM 요소로 전파(bubbling)되는 것을 막습니다.</p>
    <hr>
    <div class="parent">
        부모 요소
        <div class="child">자식 요소</div>
    </div>
    <hr>
    <div class="parent2">
        부모 요소2
        <div class="child2">자식 요소2</div>
    </div>


    <h2><strong>이벤트 전파(Event Propagation)</strong></h2>
    <p>이벤트는 두 가지 방식으로 전파됩니다:</p>
    <ol>
        <li><strong>캡처링 단계 (Capturing Phase)</strong><br>이벤트가 루트에서 시작하여 이벤트가 발생한 타겟 요소로 내려가는 과정입니다.</li>
        <li><strong>버블링 단계 (Bubbling Phase)</strong><br>이벤트가 발생한 타겟 요소에서 시작하여 루트 요소로 올라가는 과정입니다.</li>
    </ol>
    <div class="outer">
        outer
        <div class="inner">inner</div>
    </div>
    <hr>
    <div class="outer2">
        outer2
        <div class="inner2">inner2</div>
    </div>

    <h2><strong>이벤트 캡처링 vs 버블링 요약</strong></h2>
    <table>
        <thead>
            <tr>
                <th>구분</th>
                <th>캡처링(Capturing)</th>
                <th>버블링(Bubbling)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>방향</strong></td>
                <td>루트 요소 → 타겟 요소</td>
                <td>타겟 요소 → 루트 요소</td>
            </tr>
            <tr>
                <td><strong>기본 활성화 여부</strong></td>
                <td>비활성화 (옵션 필요: <code>capture: true</code>)</td>
                <td>활성화</td>
            </tr>
            <tr>
                <td><strong>사용 목적</strong></td>
                <td>상위 요소에서 이벤트 제어를 선호하는 경우</td>
                <td>하위 요소에서 이벤트를 처리한 뒤 상위로 전달</td>
            </tr>
        </tbody>
    </table>
    <script>
        document.querySelector(".child").addEventListener("click", function (event) {
            event.stopPropagation(); // 부모 요소로 이벤트 전파 방지
            alert("자식 요소 클릭");
        });


        document.querySelector(".parent").addEventListener("click", function () {
            alert("부모 요소 클릭");
        });

        document.querySelector(".child2").addEventListener("click", function (event) {
            // event.stopPropagation(); // 부모 요소로 이벤트 전파 방지
            alert("자식 요소 클릭");
        });


        document.querySelector(".parent2").addEventListener("click", function () {
            alert("부모 요소 클릭");
        });

        document.querySelector(".outer").addEventListener("click", () => {
            console.log("Outer 캡처링 true");
        }, true); // 캡처링 활성화

        document.querySelector(".inner").addEventListener("click", () => {
            console.log("Inner 캡처링 true");
        }, true);
        // Outer 캡처링 true
        // Inner 캡처링 true

        document.querySelector(".outer2").addEventListener("click", () => {
            console.log("Outer2 캡처링 false");
        }, false); // 캡처링 활성화

        document.querySelector(".inner2").addEventListener("click", () => {
            console.log("Inner2 캡처링 false");
        }, false);
        // Inner 캡처링 true
        // Outer 캡처링 true
    </script>
</body>

</html>