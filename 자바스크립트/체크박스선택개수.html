<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkbox Count</title>
</head>
<body>

    <!-- 첫 번째 체크박스 그룹 -->
    <label><input type="checkbox" class="chk" data-target="btn1"> 옵션 1</label>
    <label><input type="checkbox" class="chk" data-target="btn1"> 옵션 2</label>
    <label><input type="checkbox" class="chk" data-target="btn1"> 옵션 3</label>
    <button id="btn1" disabled>선택: 0개</button>

    <hr>

    <!-- 두 번째 체크박스 그룹 -->
    <label><input type="checkbox" class="chk" data-target="btn2"> 옵션 A</label>
    <label><input type="checkbox" class="chk" data-target="btn2"> 옵션 B</label>
    <button id="btn2" disabled>선택: 0개</button>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // 모든 체크박스에 이벤트 리스너 등록
            document.querySelectorAll(".chk").forEach(checkbox => {
                checkbox.addEventListener("change", function () {
                    let targetId = this.getAttribute("data-target"); // 버튼 ID 가져오기
                    let button = document.getElementById(targetId); // 해당 ID의 버튼 찾기

                    if (!button) return; // 버튼이 없으면 종료

                    // 같은 data-target을 가진 체크박스 중 체크된 개수 계산
                    let checkedCount = document.querySelectorAll(`.chk[data-target="${targetId}"]:checked`).length;

                    // 버튼 텍스트 업데이트
                    button.textContent = `선택: ${checkedCount}개`;

                    // 체크된 개수가 0이면 버튼 비활성화, 1개 이상이면 활성화
                    button.disabled = checkedCount === 0;
                });
            });
        });
    </script>

</body>
</html>