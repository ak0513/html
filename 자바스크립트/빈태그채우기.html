<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>빈 태그 찾기</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { margin: 20px; }
        div, span, p { border: 1px solid #ccc; padding: 10px; margin: 5px; }
    </style>
</head>
<body>
    <div class="container" data-aaa=aa" id=step1">
        
        <h2>빈 태그 자동 채우기</h2>
        <div></div>
        
                <div class="tab_cont">tab1</div>
                
                <div class="tab_cont" style="display:none">tab2</div>
                
                        <div class="tab_cont">tab3</div>
                
                
        
        <span></span>
        <p></p>
        <div>내용 있음</div>
        <span> </span>
        <p></p>
        아래 피태그 내부에 스팬2개
                <p>
                            <span> </span>
                            <span></span>
                </p>
    </div>
    
      <div class="container" data-aaa=aa" id=step2">
        
        <h2>빈 태그 자동 채우기2</h2>
        <div></div>
        <span></span>
        <p></p>
        <div>내용 있음</div>
        <span> </span>
        <p></p>
        <div class="tab_cont">tab</div>
                <div class="tab_cont">tab</div>
        아래 피태그 내부에 스팬2개
                <p>
                            <span> </span>
                            <span></span>
                </p>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll("[data-aaa] *").forEach(el => {
                if (el.children.length === 0 && el.textContent.trim() === "") {
                    el.textContent = "빈태그";
                }
            });
            
            const elements = document.querySelectorAll("[data-aaa]");

    elements.forEach(element => {
        // const firstChild = element.firstElementChild;
        const id = element.id;
        
        const firstChild = document.createElement("div");
        // firstChild.className = "id-box";
        element.insertBefore(firstChild, element.firstChild);

        // data-aaa가 있는 태그 자체에 스타일 적용
        element.style.marginTop = "20px"; // 원하는 margin-top 값
        element.style.border = "2px solid black"; // 원하는 border 스타일

        if (firstChild && id) {
            // 첫 번째 자식 요소에 position: absolute 적용
            firstChild.style.border = "5px solid black";

            // ID 값을 첫 번째 자식 요소에 표시
            firstChild.textContent = id;

            
            
        }
    });
        });
        
        
        document.addEventListener("DOMContentLoaded", function () {
    // 모든 data-aaa 속성을 가진 부모 요소들을 찾음
const parentElements = document.querySelectorAll('[data-aaa]');

// 각 부모 요소에 대해 반복
parentElements.forEach((parent, parentIndex) => {
  // 해당 부모 안에서 tab_cont 클래스를 가진 모든 div 요소를 찾음
  const tabContElements = parent.querySelectorAll('.tab_cont');

  // 각 tab_cont div에 대해 반복
  tabContElements.forEach((tabCont, index) => {
    // 새로운 태그 생성 (예: <div> 태그)
    const newElement = document.createElement('div');
    
    // 텍스트 삽입 (탭1, 탭2, 탭3 등)
    newElement.textContent = `${parent.id} 탭${parentIndex + 1}-${index + 1}`;
    
    // tab_cont div의 첫 번째 자식 요소로 추가
    tabCont.prepend(newElement);
  });
});

const style = document.createElement("style");
            style.innerHTML = `
                .tab_cont {
display:block !important
                }
           
            `;
            document.head.appendChild(style);
 




});
    </script>
</body>
</html>
