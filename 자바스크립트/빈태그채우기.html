<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>빈 태그 찾기</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { margin: 20px; }
        div, span, p { border: 1px solid #ccc; padding: 10px; margin: 5px; }
    </style>
</head>
<body>
    <div class="container" data-aaa=aa" id=step1">
        
        <h2>빈 태그 자동 채우기</h2>
        <div></div>
        <span></span>
        <p></p>
        <div>내용 있음</div>
        <span> </span>
        <p></p>
        아래 피태그 내부에 스팬2개
                <p>
                            <span> </span>
                            <span></span>
                </p>
    </div>
    
      <div class="container" data-aaa=aa" id=step2">
        
        <h2>빈 태그 자동 채우기2</h2>
        <div></div>
        <span></span>
        <p></p>
        <div>내용 있음</div>
        <span> </span>
        <p></p>
        아래 피태그 내부에 스팬2개
                <p>
                            <span> </span>
                            <span></span>
                </p>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll("[data-aaa] *").forEach(el => {
                if (el.children.length === 0 && el.textContent.trim() === "") {
                    el.textContent = "빈태그";
                }
            });
        });
        
        
        document.addEventListener("DOMContentLoaded", function () {
    const elements = document.querySelectorAll("[data-aaa]");

    elements.forEach(element => {
        // const firstChild = element.firstElementChild;
        const id = element.id;
        
        const firstChild = document.createElement("div");
        // firstChild.className = "id-box";
        element.insertBefore(firstChild, element.firstChild);

        // data-aaa가 있는 태그 자체에 스타일 적용
        element.style.marginTop = "20px"; // 원하는 margin-top 값
        element.style.border = "2px solid black"; // 원하는 border 스타일

        if (firstChild && id) {
            // 첫 번째 자식 요소에 position: absolute 적용
            firstChild.style.position = "absolute";

            // ID 값을 첫 번째 자식 요소에 표시
            firstChild.textContent = id;

            // 동적으로 CSS 생성
            const style = document.createElement("style");
            style.innerHTML = `
                #${id} {
                    margin-top: 20px;
                    border: 2px solid black;
                    position: relative; /* 부모 요소가 기준 */
                }
                #${id} > *:first-child {
                    position: absolute;
                    top: 0;
                    left: 0;
                    background: rgba(0, 0, 0, 0.1);
                    padding: 5px;
                    font-weight: bold;
                }
            `;
            document.head.appendChild(style);
        }
    });
});
    </script>
</body>
</html>
