<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>장바구니</title>
</head>

<body>
<style>
	:root {
		--코코: #E31A36;
		--맘스: #F79D72;
		--개봉역: #253C96;
		--슈퍼맨: #B14D5E;
		--자유마트: #0a7c4a;
	}
	/* reset */
	*, *::before, *::after {box-sizing:border-box;}
	body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,textarea,p,blockquote,th,td,input,select,textarea,button{margin:0;padding:0}
	fieldset,img{border:0 none}
	dl,ul,ol,menu,li {list-style:none}
	blockquote, q {quotes: none}
	blockquote:before, blockquote:after,q:before, q:after {content:'';content:none}
	input,select,textarea,button {vertical-align:middle;outline:none}
	input::-ms-clear {display:none}
	button {border:0 none;background-color:transparent;cursor:pointer}
	body,th,td,input,select,textarea,button {font-size:14px;line-height:1.5;font-family:-apple-system, BlinkMacSystemFont, Pretendard, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell,'Noto Sans KR', 'Spoqa Han Sans', "Helvetica Neue", sans-serif;}
	a {color:#333;text-decoration:none} 
	a:active, a:hover {text-decoration:underline}
	a:active {background-color:transparent}
	address,caption,cite,code,dfn,em,var {font-style:normal;font-weight:normal}
	img {max-width:100%;height:auto;}
	
	html,body {height:100%;}
	body {-webkit-text-size-adjust:none;color:#111;}
	#header{position:fixed;top:0;left:0;right:0;z-index:1;background-color:#fff;}
	.page-title {color:#fff;}
	.sort {display:flex;margin-top:12px;padding:0 16px;}
	.sort-btn {padding:2px 4px; color:#fff;border-radius:2px;background-color:#333;}
	.sort-btn.active {text-decoration: underline;}
	.sort-btn + .sort-btn {margin-left:8px;}

	.input-wrap {display:flex;background-color:#f2f2f2;border-bottom:1px solid #ddd;}
	.input-wrap input {width:100%;height:44px;padding-left:12px;font-size:16px;border:none;background-color:#f2f2f2;border-radius:0;}
	.input-wrap button {position:absolute;top:0;right:0;display:block;width:44px;height:44px; background:url('./img/icon-close.svg') no-repeat center;}

	.h-tit2 {font-weight:700;font-size:16px;margin-bottom:12px;}
	.h-tit2 small {display: inline-flex;align-items: center;justify-content: center; padding:0px 4px;font-size:14px;font-weight:400;color:#fff;border-radius:2px;}

	.product-item {margin-top:20px;}
	.product-item + .product-item {position:relative;margin-top:24px;margin-bottom:12px;padding-top:36px;}
	.product-item + .product-item::before {content:'';display:block;position:absolute;top:0;left:-24px;right:-24px;height:12px;background-color:#ddd;}

	#main {padding:86px 24px 40px;}
	.list-wrap {display:none;margin-top:20px;}
	.list-wrap.active {display:block;}

	.list-item {display:flex;align-items:center;}
	.list-item + .list-item {margin-top:36px;}
	.list-item-left {margin-right:auto;}
	.list-item-right {flex-shrink:0;margin-left:8px;text-align:right;}
	.list-img {width:48px;flex-shrink:0;margin-right:8px;}
	.list-img img {display:block;border-radius:4px;}
	.list-date,
	.list-number-group {font-size:12px;color:#666;}
	.list-number-group {display:flex;gap:4px;}
	.list-name {font-size:16px;font-weight:600;}
	.list-event {margin-right:5px;font-size:12px;font-weight:400;color:#da251c;}
	.list-weight {margin-left:5px;font-size:14px;color:#666;font-weight:400;}
	.list-by-unit {font-size:14px;color:#666;}
	.list-amount {margin-right:5px;color:#999;text-decoration:line-through;font-size:14px;font-weight:400;}
	.list-price {font-weight:600;font-size:16px;}

	.list-total {display:flex;justify-content:flex-end;margin-top:30px;padding-top:16px;border-top:2px dashed #ddd;text-align:right;font-size:16px;}

	/* 모달 */
	.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;right:0;bottom:0;overflow: auto;background-color: rgba(0, 0, 0, 0.9);padding:12px;}
	.modal-content {display: block;margin: auto;}

	/* 검색중 */
	.search .list-total {display:none;}
	.search .h-tit2 {font-size:14px;}
	.search .product-item + .product-item {margin-top: 12px;margin-bottom: 0px;padding-top: 12px;}
	.search .product-item + .product-item::before {height:1px;background-color:#eee;}
	.search .list-item + .list-item {margin-top:12px;}

	/* 개별 커스텀 */
	.코코 .h-tit2 small {background-color:var(--코코);}
	.맘스 .h-tit2 small {background-color:var(--맘스);}
	.개봉역 .h-tit2 small {background-color:var(--개봉역);}
	.슈퍼맨 .h-tit2 small {background-color:var(--슈퍼맨);}
	.자유마트 .h-tit2 small {background-color:var(--자유마트);}

	[data-company='코코'] {background-color:var(--코코)}
	[data-company='맘스'] {background-color:var(--맘스)}
	[data-company='개봉역'] {background-color:var(--개봉역)}
	[data-company='슈퍼맨'] {background-color:var(--슈퍼맨)}
	[data-company='자유마트'] {background-color:var(--자유마트)}
</style>

<div id="wrap">
    <header id="header">
        <div class="input-wrap">
            <input type="text" id="searchInput" placeholder="검색어 입력">
            <button type="button"></button>
        </div>
        <div class="sort">
            <button type="button" class="sort-btn active" data-company="">전체</button>
            <button type="button" class="sort-btn" data-company="코코">코코</button>
            <button type="button" class="sort-btn" data-company="맘스">맘스</button>
            <button type="button" class="sort-btn" data-company="개봉역">개봉역</button>
            <button type="button" class="sort-btn"  data-company="슈퍼맨">슈퍼맨</button>
            <button type="button" class="sort-btn"  data-company="자유마트">자유마트</button>
        </div>
    </header>

	<main id="main">
		<div id="product"></div>
	</main>
</div>
<!-- 모달 이미지 -->
<div id="myModal" class="modal" onclick="hideImage()">
    <img class="modal-content" id="modalImg">
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
	var data = [
    // ℓ ㎖ g kg 병 
	// 코코
	{ company: "코코", date: "2024.07.20", number: '671927', category:'맥주', name: "카스464MLx24", amount: 36190, discount: 0, weight:24, unit:'캔'},
	{ company: "코코", date: "2024.07.20", number: '625176', category:'맥스봉', name: "맥스봉치즈PLUS(40g)", amount: 12790, discount: 2800, weight:27, unit:'개'},
	{ company: "코코", date: "2024.07.20", number: '833639', category:'김', name: "KS구운 재래김", amount: 12490, discount: 0, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.07.20", number: '634767', category:'닥터유', name: "닥터유 프로틴바(564g)", amount: 10990, discount: 1700, weight:44, unit:'개'},
	// { company: "코코", date: "2024.07.20", number: '634767', category:'닥터유', name: "닥터유 프로틴바(564g)", amount: 10990, discount: 1700, weight:44, unit:'개'},

	{ company: "코코", date: "2024.07.13", number: '647983', category:'토마토', name: "체리토마토", amount: 12990, discount: 0, weight:2, unit:'kg'},

	{ company: "코코", date: "2024.07.09", number: '655475', category:'닭', name: "하림 스파이시 닭가슴살", amount: 14990, discount: 2500, weight:1.2, unit:'kg'},
	{ company: "코코", date: "2024.07.09", number: '655475', category:'닭', name: "하림 스파이시 닭가슴살", amount: 14990, discount: 2500, weight:1.2, unit:'kg'},

	{ company: "코코", date: "2024.07.07", number: '701913', category:'청소포', name: "스위퍼 먼지청소포", amount: 32990, discount: 8000, weight:17, unit:'개'},
	{ company: "코코", date: "2024.07.07", number: '669210', category:'빵', name: "버터숏브레드 쿠키", amount: 16990, discount: 2200, weight:0, unit:'g'},

	{ company: "코코", date: "2024.07.06", number: '637146', category:'계란', name: "동물복지란", amount: 15890, discount: 0, weight:60, unit:'개'},
	{ company: "코코", date: "2024.07.06", number: '637146', category:'아보카도', name: "아보카도", amount: 11990, discount: 2500, weight:6, unit:'개'},
	{ company: "코코", date: "2024.07.06", number: '637146', category:'로메인', name: "무농약 로메인(4~6입)", amount: 8990, discount: 0, weight:0, unit:'g'},
	{ company: "코코", date: "2024.07.06", number: '637146', category:'식초', name: "발사믹식초", amount: 15990, discount: 0, weight:1, unit:'ℓ'},

	{ company: "코코", date: "2024.06.29", number: '656416', category:'의류', name: "리바이스 티셔츠", amount: 19990, discount: 0, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.06.29", number: '662556', category:'오트', name: "OAT 바리스타", amount: 15990, discount: 2400, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.06.29", number: '642173', category:'와인', name: "쿵푸걸 리슬링", amount: 15790, discount: 3200, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.06.29", number: '999987', category:'호두', name: "KS 호두", amount: 12290, discount: 0, weight:1.360, unit:'kg'},
	{ company: "코코", date: "2024.06.29", number: '733591', category:'치즈', name: "하바티 슬라이스", amount: 14990, discount: 2500, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.06.29", number: '674135', category:'주먹밥', name: "참치마요 주먹밥(1.2kg)", amount: 13990, discount: 2500, weight:12, unit:'개'},
	{ company: "코코", date: "2024.06.29", number: '631116', category:'치즈', name: "부라타 치즈", amount: 15690, discount: 2500, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.06.29", number: '654685', category:'고기', name: "한우 안심1++", amount: 136960, discount: 0, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.06.29", number: '047126', category:'체리', name: "체리(미국)", amount: 13790, discount: 0, weight:907, unit:'g'},

	{ company: "코코", date: "2024.06.16", number: '512905', category:'토마토', name: "토마토", amount: 14990, discount: 0, weight:4, unit:'kg'},
	{ company: "코코", date: "2024.06.16", number: '674623', category:'수박', name: "3호(10kg미만)", amount: 19990, discount: 0, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.06.16", number: '656064', category:'바나나', name: "델몬트바나나", amount: 2990, discount: 0, weight:6, unit:'g'},
	{ company: "코코", date: "2024.06.16", number: '655475', category:'닭', name: "하림 스파이시 닭가슴살", amount: 14990, discount: 2000, weight:1.2, unit:'kg'},

	{ company: "코코", date: "2024.06.08", number: '520440', category:'두유', name: "국산검은콩두유(24팩)", amount: 16990, discount: 3400, weight:4.560, unit:'g'},
	{ company: "코코", date: "2024.06.08", number: '663778', category:'와인', name: "클라우디베이 펠로루스", amount: 45990, discount: 11000, weight:0, unit:'g'},
	{ company: "코코", date: "2024.06.08", number: '047126', category:'체리', name: "체리(미국)", amount: 18990, discount: 4100, weight:907, unit:'g'},
	{ company: "코코", date: "2024.06.08", number: '047126', category:'체리', name: "체리(미국)", amount: 18990, discount: 4100, weight:907, unit:'g'},
	{ company: "코코", date: "2024.06.08", number: '661892', category:'로메인', name: "무농약 로메인(4~6입)", amount: 8990, discount: 0, weight:0, unit:'g'},

	{ company: "코코", date: "2024.06.01", number: '653669', category:'들깨', name: "들깨가루", amount: 15990, discount: 0, weight:400, unit:'g'},
	{ company: "코코", date: "2024.06.01", number: '588825', category:'우유', name: "비타민우유", amount: 4590, discount: 0, weight:2.3, unit:'ℓ'},
	{ company: "코코", date: "2024.06.01", number: '605698', category:'아보카도', name: "아보카도", amount: 14990, discount: 0, weight:6, unit:'개'},
	{ company: "코코", date: "2024.06.01", number: '605698', category:'빵', name: "호밀빵", amount: 7490, discount: 0, weight:860, unit:'g'},
	{ company: "코코", date: "2024.06.01", number: '565617', category:'아몬드', name: "아몬드", amount: 13490, discount: 0, weight:1.36, unit:'kg'},
	{ company: "코코", date: "2024.06.01", number: '7771398', category:'의류', name: "라운드바지", amount: 12970, discount: 0, weight:0, unit:'kg'},

	{ company: "코코", date: "2024.05.25", number: '629052', category:'콩', name: "병아리콩", amount: 14990, discount: 0, weight:6, unit:'kg'},
	{ company: "코코", date: "2024.05.25", number: '639952', category:'쌀', name: "백진주쌀", amount: 36990, discount: 3000, weight:10, unit:'kg'},
	{ company: "코코", date: "2024.05.25", number: '608881', category:'수박', name: "수박", amount: 24990, discount: 3200, weight:9, unit:'kg'},
	{ company: "코코", date: "2024.05.25", number: '661892', category:'로메인', name: "무농약 로메인(4~6입)", amount: 8990, discount: 2000, weight:0, unit:'g'},
	{ company: "코코", date: "2024.05.25", number: '579887', category:'양상추', name: "친환경 양상추", amount: 6490, discount: 0, weight:2, unit:'개'},
	{ company: "코코", date: "2024.05.25", number: '523376', category:'토마토', name: "미니 대추토마토", amount: 17990, discount: 2000, weight:2.2, unit:'kg'},
	{ company: "코코", date: "2024.05.25", number: '655475', category:'닭', name: "하림 스파이시 닭가슴살", amount: 14990, discount: 2000, weight:1.2, unit:'kg'},
	{ company: "코코", date: "2024.05.25", number: '669606', category:'핫도그', name: "풀무원 포테이토 핫도그(8개)", amount: 11490, discount: 0, weight:720, unit:'g'},
	{ company: "코코", date: "2024.05.25", number: '507154', category:'베이컨', name: "햄스빌 베이컨", amount: 16890, discount: 2600, weight:820, unit:'g'},
	{ company: "코코", date: "2024.05.25", number: '601208', category:'단백질', name: "웨이더플러스", amount: 28990, discount: 5000, weight:1020, unit:'g'},
	{ company: "코코", date: "2024.05.25", number: '643893', category:'체중계', name: "무아스 체중계", amount: 16990, discount: 3000, weight:0, unit:'g'},

	{ company: "코코", date: "2024.05.18", number: '634767', category:'닥터유', name: "닥터유 프로틴바(564g)", amount: 10990, discount: 1500, weight:44, unit:'개'},
	// { company: "코코", date: "2024.05.18", number: '634767', category:'닥터유', name: "닥터유 프로틴바", amount: 10990, discount: 1500, weight:0, unit:'kg'},
	{ company: "코코", date: "2024.05.18", number: '633336', category:'음료', name: "오렌지주스", amount: 26490, discount: 0, weight:3.54, unit:'kg'},
	{ company: "코코", date: "2024.05.18", number: '1050557', category:'과자', name: "피넛 프레첼", amount: 16590, discount: 0, weight:1.56, unit:'kg'},
	{ company: "코코", date: "2024.05.18", number: '667629', category:'과일', name: "그린키위", amount: 17990, discount: 0, weight:2.4, unit:'kg'},
	{ company: "코코", date: "2024.05.18", number: '637146', category:'계란', name: "동물복지란", amount: 15890, discount: 0, weight:60, unit:'개'},
	{ company: "코코", date: "2024.05.18", number: '647983', category:'토마토', name: "체리토마토", amount: 16490, discount: 0, weight:2, unit:'kg'},

	{ company: "코코", date: "2024.05.05", number: '690902', category:'돈까스', name: "동원돈까스", amount: 14990, discount: 2500, weight:1.040, unit:'kg'},
	{ company: "코코", date: "2024.05.05", number: '1276922', category:'과자', name: "케틀 핑크솔트 감자칩", amount: 9990, discount: 0, weight:907, unit:'g'},
	{ company: "코코", date: "2024.05.05", number: '525619', category:'냉동식품', name: "치킨텐더", amount: 17490, discount: 3500, weight:1.5, unit:'kg'},
	// { company: "코코", date: "2024.05.05", number: '525619', category:'냉동식품', name: "치킨텐더", amount: 17490, discount: 3500, weight:0, unit:'g'},
	{ company: "코코", date: "2024.05.05", number: '1100690', category:'치즈', name: "하바티 고다치즈", amount: 15790, discount: 2500, weight:0, unit:'g'},
	{ company: "코코", date: "2024.05.05", number: '647983', category:'토마토', name: "체리토마토", amount: 15490, discount: 0, weight:2, unit:'kg'},
	{ company: "코코", date: "2024.05.05", number: '584629', category:'망고스틴', name: "망고스틴", amount: 20890, discount: 0, weight:1.8, unit:'kg'},
	{ company: "코코", date: "2024.05.05", number: '505325', category:'참외', name: "고당도참외", amount: 19990, discount: 0, weight:7, unit:'개'},

	{ company: "코코", date: "2024.04.21", number: '647983', category:'토마토', name: "체리토마토", amount: 16490, discount: 0, weight:2, unit:'kg'},
    { company: "코코", date: "2024.04.21", number: '668703', category:'떡볶이', name: "떡볶이 오리지날(6인분)", amount: 10990, discount: 0, weight:1.080, unit:'kg'},
    { company: "코코", date: "2024.04.21", number: '301904', category:'와인', name: "KS M.쇼비뇽블랑", amount: 10790, discount: 0, weight:0, unit:'병'},

    { company: "코코", date: "2024.04.13", number: '003379', category:'초콜릿', name: "프렌치 트러플", amount: 22990, discount: 3500, weight:2, unit:'kg'},
    { company: "코코", date: "2024.04.13", number: '660472', category:'젤리', name: "트롤리 미니버거", amount: 19990, discount: 5300, weight:90, unit:'개'},
    { company: "코코", date: "2024.04.13", number: '669023', category:'와인', name: "Natale Verga Barolo", amount: 29990, discount: 6000, weight:0, unit:'병'},
    { company: "코코", date: "2024.04.13", number: '030669', category:'바나나', name: "델몬트 바나나", amount: 3190, discount: 0, weight:9, unit:'개'},
    { company: "코코", date: "2024.04.13", number: '571300', category:'연어', name: "연어", amount: 58170, discount: 0, weight:1.492, unit:'kg'},
    { company: "코코", date: "2024.04.13", number: '515819', category:'소스', name: "어니언크림드레싱", amount: 8490, discount: 0, weight:1, unit:'kg'},
    { company: "코코", date: "2024.04.13", number: '647983', category:'토마토', name: "체리토마토", amount: 16490, discount: 0, weight:2, unit:'kg'},
    { company: "코코", date: "2024.04.13", number: '667144', category:'샐러드', name: "유기농샐러드", amount: 7490, discount: 0, weight:540, unit:'g'},

    { company: "코코", date: "2024.04.01", number: '622945', category:'치약', name: "콜게이트치약(5개)", amount: 21990, discount: 0, weight:0, unit:'g'},
    { company: "코코", date: "2024.04.01", number: '672163', category:'토마토', name: "대저토마토", amount: 20490, discount: 0, weight:2.5, unit:'kg'},
    { company: "코코", date: "2024.04.01", number: '574199', category:'딸기', name: "딸기1박스", amount: 12290, discount: 0, weight:1, unit:'kg'},

    { company: "코코", date: "2024.03.23", number: '635469', category:'과자', name: "LOTTE 스낵모음(20개)", amount: 15790, discount: 0, weight:1.384, unit:'kg'},
    { company: "코코", date: "2024.03.23", number: '630807', category:'시저', name: "크랜베리 그래놀라", amount: 17990, discount: 3000, weight:1.5, unit:'kg'},
    { company: "코코", date: "2024.03.23", number: '657241', category:'즉석국', name: "소스락 즉석국(20개)", amount: 15490, discount: 3000, weight:200, unit:'g'},
    { company: "코코", date: "2024.03.23", number: '667290', category:'주먹밥', name: "햇반쿡반 주먹밥(1.2kg)", amount: 14490, discount: 2500, weight:20, unit:'개'},
    { company: "코코", date: "2024.03.23", number: '672163', category:'토마토', name: "대저토마토", amount: 20990, discount: 0, weight:2.5, unit:'kg'},
    { company: "코코", date: "2024.03.23", number: '520767', category:'고기', name: "미국냉장살치살팩", amount: 74910, discount: 6000, weight:1.6, unit:'kg'}, // 2.5kg에서 지방 제거 후 1.6kg
    { company: "코코", date: "2024.03.23", number: '667609', category:'아보카도', name: "아보카도 샐러드", amount: 14300, discount: 0, weight:0, unit:'kg'},

    { company: "코코", date: "2024.03.17", number: '647983', category:'토마토', name: "체리토마토", amount: 15990, discount: 0, weight:2, unit:'kg'},
    { company: "코코", date: "2024.03.17", number: '663778', category:'와인', name: "클라우디베이 펠로루스", amount: 45990, discount: 12000, weight:0, unit:'g'},
    // { company: "코코", date: "2024.03.17", number: 663778, category:'', name: "클라우디베이 펠로루스", amount: 45990, discount: 12000, weight:0, unit:'g'}, 2병 구매

    { company: "코코", date: "2024.03.03", number: '651894', category:'탕수육', name: "고메탕수육", amount: 12990, discount: 2200, weight:1, unit:'kg'},
    { company: "코코", date: "2024.03.03", number: '647983', category:'토마토', name: "체리토마토", amount: 17490, discount: 0, weight:2, unit:'kg'},

    { company: "코코", date: "2024.03.01", number: '660472', category:'젤리', name: "트롤리 미니버거", amount: 19990, discount: 0, weight:100, unit:'개'},
    { company: "코코", date: "2024.03.01", number: '030669', category:'바나나', name: "델몬트 바나나", amount: 3190, discount: 0, weight:7, unit:'개'},
    { company: "코코", date: "2024.03.01", number: '664924', category:'샐러드', name: "데일리샐러드믹스", amount: 9490, discount: 0, weight:1, unit:'kg'},
    { company: "코코", date: "2024.03.01", number: '656361', category:'닭강정', name: "BBQ 닭강정", amount: 16990, discount: 2700, weight:1.2, unit:'kg'},
    { company: "코코", date: "2024.03.01", number: '565617', category:'빵', name: "호밀빵", amount: 7490, discount: 0, weight:860, unit:'g'},

    { company: "코코", date: "2024.02.28", number: '647983', category:'토마토', name: "체리토마토", amount: 17490, discount: 0, weight:2, unit:'kg'},
    { company: "코코", date: "2024.02.28", number: '605698', category:'아보카도', name: "아보카도", amount: 13990, discount: 0, weight:6, unit:'개'},

    { company: "코코", date: "2024.02.19", number: '647983', category:'토마토', name: "체리토마토", amount: 16990, discount: 0, weight:2, unit:'kg'},
    { company: "코코", date: "2024.02.19", number: '520440', category:'두유', name: "국산검은콩두유(24팩)", amount: 16990, discount: 3400, weight:4.560, unit:'kg'},
    { company: "코코", date: "2024.02.19", number: '637146', category:'계란', name: "동물복지란", amount: 15890, discount: 0, weight:60, unit:'개'},
    { company: "코코", date: "2024.02.19", number: '585284', category:'굴소스', name: "백설굴소스350GX3", amount: 10790, discount: 0, weight:1.050, unit:'kg'},
    { company: "코코", date: "2024.02.19", number: '600523', category:'참치', name: "EPA 참치 150G X 10", amount: 22190, discount: 2400, weight:1.5, unit:'kg'},
    { company: "코코", date: "2024.02.19", number: '664370', category:'피자', name: "GALILEO MINI PIZ", amount: 15990, discount: 3200, weight:0, unit:'kg'},

    { company: "코코", date: "2024.02.17", number: '623559', category:'소주', name: "진로소주360", amount: 24190, discount: 0, weight:20, unit:'병'},
    { company: "코코", date: "2024.02.17", number: '643733', category:'맥주', name: "카스473ML", amount: 37990, discount: 0, weight:24, unit:'캔'},
    { company: "코코", date: "2024.02.17", number: '639952', category:'쌀', name: "백진주쌀", amount: 36990, discount: 3000, weight:10, unit:'kg'},
    { company: "코코", date: "2024.02.17", number: '647983', category:'토마토', name: "체리토마토", amount: 16990, discount: 0, weight:2, unit:'kg'},
    { company: "코코", date: "2024.02.17", number: '647019', category:'양파', name: "친환경양파망", amount: 14990, discount: 0, weight:4, unit:'kg', img:647019},
    { company: "코코", date: "2024.02.17", number: '659969', category:'청경채', name: "청경채", amount: 7290, discount: 0, weight:700, unit:'g'},
    { company: "코코", date: "2024.02.17", number: '507154', category:'베이컨', name: "햄스빌 베이컨", amount: 16890, discount: 0, weight:820, unit:'g'},
    { company: "코코", date: "2024.02.17", number: '612635', category:'두부', name: "찌개부침두부", amount: 5690, discount: 0, weight:840, unit:'g'},
    { company: "코코", date: "2024.02.17", number: '530318', category:'양배추', name: "친환경양배추", amount: 5990, discount: 0, weight:4, unit:'kg', img:530318},



	// 맘스
	{ company: "맘스", date: "2024.05.25", number: '8807004802485', category:'김', name: "성경 올리브녹차 4gx16단", amount: 8200, discount: 0, weight:64, unit:'g',},
	{ company: "맘스", date: "2024.05.25", number: '8801022023082', category:'맥주', name: "크러시 470㎖", amount: 15600, discount: 0, weight:8, unit:'캔',},
	{ company: "맘스", date: "2024.05.25", number: '22001306', category:'오이', name: "백오이", amount: 2980, discount: 0, weight:6, unit:'개',},
	{ company: "맘스", date: "2024.05.25", number: '8801043036955', category:'라면', name: "농심라면사리", amount: 1400, discount: 0, weight:5, unit:'개',},
	
	{ company: "맘스", date: "2024.05.02", number: '22000231', category:'양파', name: "양파(중망 7개)", amount: 4980, discount: 0, weight:1.5, unit:'kg',},

	{ company: "맘스", date: "2024.04.20", number: '8801121020968', category:'우유', name: "매일 우유오리지널", amount: 4880, discount: 0, weight:1.8, unit:'ℓ', event:'행사'},
    { company: "맘스", date: "2024.04.20", number: '8801066801134', category:'김밥', name: "대림알뜰김밥세트", amount: 5980, discount: 0, weight:510, unit:'g'},
    { company: "맘스", date: "2024.04.20", number: '22001269', category:'깻잎', name: "금산깻잎(퀄리티 나쁨)", amount: 1500, discount: 0, weight:30, unit:'장', img:22001269},
    { company: "맘스", date: "2024.04.20", number: '8801253122349', category:'우엉', name: "일가양념우엉", amount: 3800, discount: 0, weight:150, unit:'g'},
    { company: "맘스", date: "2024.04.20", number: '201416', category:'당근', name: "흙당근(국산)", amount: 2890, discount: 0, weight:386, unit:'g'},

    { company: "맘스", date: "2024.04.13", number: '22004994', category:'양파', name: "양파(벌크/국산)", amount: 2000, discount: 0, weight:2, unit:'개'},
    { company: "맘스", date: "2024.04.13", number: '22002990', category:'달래', name: "달래(국산)", amount: 2500, discount: 0, weight:1, unit:'단'},
    { company: "맘스", date: "2024.04.13", number: '22001757', category:'무순', name: "무순(소/국산)", amount: 590, discount: 0, weight:0, unit:'단'},

	{ company: "맘스", date: "2024.03.23", number: '201245', category:'아스파라거스', name: "아스파라거스(수입)", amount: 3980, discount: 0, weight:4, unit:'개'},
    { company: "맘스", date: "2024.03.23", number: '201261', category:'버섯', name: "양송이버섯(국산)", amount: 4980, discount: 0, weight:0, unit:'개'},
    { company: "맘스", date: "2024.03.23", number: '22000200', category:'마늘', name: "깐마늘(국산)", amount: 2480, discount: 0, weight:200, unit:'g'},

	{ company: "맘스", date: "2024.03.01", number: '8801052012919', category:'소스', name: "청성원부마토 스파게티소스", amount: 4180, discount: 0, weight:600, unit:'g'},
    { company: "맘스", date: "2024.03.01", number: '22001290', category:'가지', name: "찰가지(국산) 3개", amount: 3980, discount: 0, weight:448, unit:'g'},
    { company: "맘스", date: "2024.03.01", number: '22001276', category:'애호박', name: "인큐애호박(특)(국산)", amount: 1980, discount: 0, weight:0, unit:'kg'},
	
	{ company: "맘스", date: "2024.02.24", number: '22001382', category:'쪽파', name: "쪽파(국산)", amount: 4980, discount: 0, weight:1, unit:'단'},
    { company: "맘스", date: "2024.02.24", number: '201382', category:'버섯', name: "표고버섯(국산)", amount: 3240, discount: 0, weight:0, unit:'g'},
    { company: "맘스", date: "2024.02.24", number: '8801117368005', category:'젤리', name: "오리온키위알맹이", amount: 1100, discount: 0, weight:67, unit:'g'},
    { company: "맘스", date: "2024.02.24", number: '88011173651031', category:'젤리', name: "오리온리찌알맹이", amount: 1000, discount: 0, weight:67, unit:'g'},

	{ company: "맘스", date: "2024.02.17", number: '8809605750219', category:'과자', name: "참한입인절미", amount: 2500, discount: 0, weight:235, unit:'g'},
    { company: "맘스", date: "2024.02.17", number: '8801039000953', category:'김', name: "해표광천도시락김 5g*24번들", amount: 7980, discount: 0, weight:120, unit:'g'},
    { company: "맘스", date: "2024.02.17", number: '8809052116576', category:'월남쌈', name: "뉴 월남쌈", amount: 4050, discount: 0, weight:300, unit:'g'},
    { company: "맘스", date: "2024.02.17", number: '8801121020968', category:'우유', name: "매일 우유오리지널", amount: 5650, discount: 0, weight:1.8, unit:'ℓ'},
    { company: "맘스", date: "2024.02.17", number: '201328', category:'고추', name: "청양고추", amount: 3750, discount: 0, weight:20, unit:'kg'},



	// 자유마트
	{ company: "자유마트", date: "2024.06.28", number: '', category:'미나리', name: "미나리", amount: 2500, discount: 0, weight:1, unit:'단'},
	{ company: "자유마트", date: "2024.06.28", number: '', category:'부탄가스', name: "썬 부탄가스", amount: 5100, discount: 0, weight:4, unit:'개'},
	{ company: "자유마트", date: "2024.06.28", number: '', category:'양파', name: "양파망(중)", amount: 3000, discount: 0, weight:7, unit:'개'},
	{ company: "자유마트", date: "2024.06.28", number: '', category:'청양고추', name: "진라면 매운맛", amount: 1200, discount: 0, weight:15, unit:'개'},

    { company: "자유마트", date: "2024.04.27", number: '8301045522265', category:'라면', name: "진라면 매운맛", amount: 3250, discount: 400, weight:5, unit:'개ㅂ'},

	// 개봉역
    { company: "개봉역", date: "2024.04.08", number: '8801121020968', category:'우유', name: "매일 우유오리지널", amount: 5150, discount: 0, weight:1.8, unit:'ℓ'},
    { company: "개봉역", date: "2024.03.20", number: '8801121020968', category:'우유', name: "매일 우유오리지널", amount: 3980, discount: 0, weight:1.8, unit:'ℓ', event:'행사'},
    { company: "개봉역", date: "2024.02.29", number: '8801121020968', category:'우유', name: "매일 우유오리지널", amount: 5150, discount: 0, weight:1.8, unit:'ℓ'},

	

	// 슈퍼맨
	{ company: "슈퍼맨", date: "2024.06.16", number: '', category:'골뱅이', name: "유동골뱅이", amount: 6400, discount: 0, weight:230, unit:'g'},

    { company: "슈퍼맨", date: "2024.04.13", number: '', category:'김', name: "명가담백구운김", amount: 1450, discount: 0, weight:0, unit:'개'},
    { company: "슈퍼맨", date: "2024.04.13", number: '', category:'과자', name: "한입 인절미스낵", amount: 1000, discount: 0, weight:115, unit:'g'},
    { company: "슈퍼맨", date: "2024.04.13", number: '', category:'소세지', name: "알뜰소세지(롯데)", amount: 2100, discount: 0, weight:350, unit:'g'},
    { company: "슈퍼맨", date: "2024.04.13", number: '', category:'과자', name: "닭다리(농심)", amount: 1450, discount: 0, weight:66, unit:'g'},
    { company: "슈퍼맨", date: "2024.04.13", number: '', category:'과자', name: "빈츠 끼리크림치즈(롯데 24봉)", amount: 4950, discount: 0, weight:204, unit:'g'},

	{ company: "슈퍼맨", date: "2024.03.30", number: '', category:'깻잎', name: "추부깻잎 1봉", amount: 1000, discount: 0, weight:0, unit:'g', img:'supermanMart1'},
    { company: "슈퍼맨", date: "2024.03.30", number: '', category:'고추', name: "청양고추 1팩", amount: 3500, discount: 0, weight:25, unit:'개', img:'supermanMart2'},
    { company: "슈퍼맨", date: "2024.03.30", number: '', category:'과자', name: "찍먹나초(오리온)", amount: 2950, discount: 0, weight:168, unit:'g'},
    { company: "슈퍼맨", date: "2024.03.30", number: '', category:'과자', name: "몽쉘 제주돌카룽(롯데 12봉)", amount: 4300, discount: 0, weight:186, unit:'g'},
    { company: "슈퍼맨", date: "2024.03.30", number: '', category:'과자', name: "빈츠 끼리크림치즈(롯데 12봉)", amount: 2500, discount: 0, weight:102, unit:'g'},
]







	var data2 = [
// ℓ ㎖ g kg 병 


	];

	// 데이터 정렬 함수: 최신 날짜순으로 정렬
	const sortByDateDescending = (data) => [...data].sort((a, b) => new Date(b.date) - new Date(a.date));

	var productListContainer = document.getElementById("product");

	function renderProductList(products) {
		productListContainer.innerHTML = ''; // 기존 목록 초기화

		// 날짜와 회사를 기준으로 제품을 그룹화
		var groupedProducts = {};
		products.forEach(function (product) {
			var key = product.date + product.company;
			if (!groupedProducts[key]) {
				groupedProducts[key] = [];
			}
			groupedProducts[key].push(product);
		});

		// 각 그룹별로 .product-item을 생성하고 제품들을 추가
		for (var key in groupedProducts) {
			if (groupedProducts.hasOwnProperty(key)) {
				var productGroup = groupedProducts[key];
				var productItem = document.createElement("div");
				productItem.classList.add('product-item');
				productItem.classList.add(`${productGroup[0].company}`);

				var heading = document.createElement("h2");
				heading.classList.add('h-tit2')
				heading.innerHTML = `${productGroup[0].date} <small>${productGroup[0].company}</small>`;
				productItem.appendChild(heading);

				var productList = document.createElement("div");
				productList.classList.add('list')

				var totalAmount = 0;

				// 각 제품을 리스트에 추가
				productGroup.forEach(function (product) {
					var listItem = document.createElement("div");
					listItem.classList.add('list-item')

					var html = [];

					var price = product.amount - product.discount;

					// 단위 당 금액
					function calculateUnitPrice(price, unit, weight) {
						switch(unit) {
							case 'g':
							case '㎖':
								return price / weight * 100;
							case 'kg':
							case 'ℓ':
								return price / weight / 1;
							case '병':
							case '개':
							case '단':
							case '장':
							case '캔':
								return price / weight;
							default:
								return null;
						}
					}

					function formatUnitPrice(unitPrice, unit) {
						if (unit === 'g' || unit === '㎖') {
							return '100' + unit + ' 당 ' + addCommasToAmount(unitPrice) + '원';
						} else {
							return '1' + unit + ' 당 ' + addCommasToAmount(unitPrice) + '원';
						}
					}

					var listByUnit = null;
					var unitPrice = calculateUnitPrice(price, product.unit, product.weight);
					if (unitPrice !== null) {
						listByUnit = formatUnitPrice(unitPrice, product.unit);
					}
					
					if(product.img) {
						html.push(`<div class="list-img"><img src="./img/${product.img}.jpg" alt="" onclick="showImage('./img/${product.img}.jpg')"></div>`)
					}
					html.push(`<div class="list-item-left">`)
						html.push(`<div class="list-number-group">`)
							html.push(`<div class="list-category">[<span class="copyDiv">${product.category}</span>]</div>`)
							html.push(`<div class="list-number copyDiv">${product.number}</div>`)
						html.push(`</div>`)
						html.push(`<div class="list-name">`)
							html.push(`<span class="copyDiv">${product.name}</span>`)
							if(`${addCommasToAmount(product.weight)}` > 0) {
								html.push(`<span class="list-weight">${addCommasToAmount(product.weight)}${product.unit}</span>`)
							}
						html.push(`</div>`)
					html.push(`</div>`)

					html.push(`<div class="list-item-right">`)
						if(product.discount > 0) {
							html.push(`<div class="list-discount">${addCommasToAmount(product.discount)}원 할인</div>`)
						}
						html.push(`<div class="list-price">`)
							if(product.discount > 0) {
								html.push(`<span class="list-amount">(${addCommasToAmount(product.amount)})</span>`)
							}
							if(product.event) {
								html.push(`<span class="list-event">${product.event}</span>`)
							}
							html.push(`${addCommasToAmount(price)}원`)
						html.push(`</div>`)
						if(`${addCommasToAmount(product.weight)}` > 0) {
							html.push(`<div class="list-by-unit">${listByUnit}</div>`)
						}
					html.push(`</div>`)
					productList.appendChild(listItem);
					listItem.innerHTML = html.join('');
					totalAmount += price;
				});
				// 총 금액을 리스트에 추가
				var totalAmountItem = document.createElement("div");
				totalAmountItem.classList.add('list-total')
				totalAmountItem.innerHTML = `<b>${addCommasToAmount(totalAmount)}</b>원`;
				productList.appendChild(totalAmountItem);

				productItem.appendChild(productList);
				productListContainer.appendChild(productItem);
			}
		}

		/* document.querySelectorAll('.copyDiv').forEach(function(div) {
			div.addEventListener('click', function() {
				// div 내부의 텍스트 선택
				var text = this.innerText;

				// 텍스트를 클립보드에 복사
				navigator.clipboard.writeText(text)
					.then(function() {
						console.log('텍스트가 성공적으로 복사되었습니다: ' + text);
					})
					.catch(function(err) {
						console.error('텍스트 복사 실패: ', err);
					});
			});
		}) */

		// .copyDiv 클릭 이벤트 리스너 추가
		var copyDivs = document.querySelectorAll('.copyDiv')
		copyDivs.forEach(function (div) {
			div.addEventListener('click', function () {
				// div 내부의 텍스트 가져오기
				var text = this.innerText;

				// 텍스트를 searchInput에 설정
				searchInput.value = text;

				// 검색 실행
				var companyFilter = document.querySelector('.sort-btn.active').getAttribute('data-company');
				filterProducts(text, companyFilter);

				// 입력값이 있는 경우 body에 'search' 클래스 추가
				addBodySearchClass(text)
			});
		});
	}

	

	function filterProducts(searchTerm, companyFilter) {
		var filteredProducts;
		if (companyFilter === '') {
			filteredProducts = data.filter(function (item) {
				return (
					item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
					item.number.toString().includes(searchTerm) || item.category.toString().includes(searchTerm)
				);
			});
		} else {
			filteredProducts = data.filter(function (item) {
				return (
					(item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
					item.number.toString().includes(searchTerm) || item.category.toString().includes(searchTerm)) &&
					item.company === companyFilter
				);
			});
		}
		renderProductList(sortByDateDescending(filteredProducts));
	}

	// 초기 목록 렌더링
	renderProductList(sortByDateDescending(data));

	// 검색 입력 이벤트 리스너
	var searchInput = document.getElementById("searchInput");
	searchInput.addEventListener("input", function (event) {
		var searchTerm = event.target.value.trim();
		var companyFilter = document.querySelector('.active').getAttribute('data-company');
		filterProducts(searchTerm, companyFilter);
		addBodySearchClass(searchTerm);
	});

	// 입력값이 있는 경우 body에 'input-has-value' 클래스 추가
	function addBodySearchClass(txt) {
		if (txt) {
			document.body.classList.add('search');
		} else {
			document.body.classList.remove('search');
		}
	}

	// 회사 버튼 클릭 이벤트 리스너
	var sortBtns = document.querySelectorAll('.sort-btn');
	sortBtns.forEach(function (button) {
		button.addEventListener('click', function () {
			sortBtns.forEach(function (btn) {
				btn.classList.remove('active');
			});
			this.classList.add('active');
			var searchTerm = searchInput.value.trim();
			var companyFilter = this.getAttribute('data-company');
			filterProducts(searchTerm, companyFilter);
			
			window.scrollTo(0,0)
		});
	});

	// 검색 초기화
	document.querySelector('.input-wrap button').addEventListener('click', function() {
		this.previousElementSibling.value = '';
		renderProductList(sortByDateDescending(data));
		sortBtns.forEach(function (btn) {
			btn.classList.remove('active');
		});
		sortBtns[0].classList.add('active');
		document.body.classList.remove('search');
	})
});

// amount에 쉼표 추가하는 함수
function addCommasToAmount(amount) {
	// 입력된 값이 문자열인지 확인합니다.
	if (typeof amount !== 'string') {
		amount = amount.toString();
	}

	// 소수점을 찾습니다.
	const decimalIndex = amount.indexOf(".");
	if (decimalIndex !== -1) {
		// 소수점 이하 1자리까지만 유지합니다.
		amount = parseFloat(amount).toFixed(1);
		// 소수점 이하의 0을 모두 제거합니다.
		amount = amount.replace(/\.?0*$/, "");
	}
	// 쉼표 추가
	return amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

// 이미지 확대하기
function showImage(imageSrc) {
    var modal = document.getElementById('myModal');
    var modalImg = document.getElementById("modalImg");
    
    modal.style.display = "flex";
    modalImg.src = imageSrc;
  }

// 이미지 닫기
function hideImage() {
    var modal = document.getElementById('myModal');
    modal.style.display = "none";
}


</script>

</body>

</html>