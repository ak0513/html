<!DOCTYPE html>
<html>
<head>
    <title>JSON 파일 생성하기</title>
</head>
<body>

<table id="myTable">
    <tr>
        <td>date</td>
        <td>number</td>
        <td>name</td>
    </tr>
    <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
    </tr>
    <tr>
        <td>4</td>
        <td>5</td>
        <td>6</td>
    </tr>
    <tr>
        <td>4</td>
        <td>5</td>
        <td>6</td>
    </tr>
    <tr>
        <td>4</td>
        <td>5</td>
        <td>6</td>
    </tr>
    <tr>
        <td>4</td>
        <td>5</td>
        <td>6</td>
    </tr>
</table>
<button onclick="createJSON()">JSON 파일 생성</button>
<div id="json"></div>
<script>
function createJSON() {
    var table = document.getElementById('myTable');
    var rows = table.rows;
    var jsonData = [];

    // 첫 번째 행은 헤더이므로 제외하고 데이터를 가져옴
    for (var i = 1; i < rows.length; i++) {
        var row = rows[i];
        var rowData = {};

        // 각 행의 td 값을 가져와서 JSON 객체에 추가
        for (var j = 0; j < row.cells.length; j++) {
            var cell = row.cells[j];
            var header = table.rows[0].cells[j].innerText;
            rowData[header] = cell.innerText;
        }

        jsonData.push(rowData);
    }

    // JSON 문자열로 변환 (따옴표 제거)
    var jsonString = JSON.stringify(jsonData, null, 0).replace(/\"/g, '');

    // JSON 파일 생성
    var blob = new Blob([jsonString], {type: "application/json"});
    var url = URL.createObjectURL(blob);

    // 다운로드 링크 생성
    var a = document.createElement('a');
    a.download = 'data.json';
    a.href = url;
    a.textContent = 'JSON 파일 다운로드';

    // 링크를 추가하고 클릭
    document.body.appendChild(a);
    a.click();

    // 링크 제거
    document.body.removeChild(a);

    document.getElementById('json').innerHTML = jsonString
    console.log(jsonString)
}


[{date:1,number:2,name:3},{date:4,number:5,name:6}]
</script>

</body>
</html>
